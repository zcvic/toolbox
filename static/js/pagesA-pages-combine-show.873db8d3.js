(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-pages-combine-show"],{"0a45":function(t,e,a){"use strict";a.r(e);var i=a("0a6d"),n=a("b905");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);var c=a("828b"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"12bc1759",null,!1,i["a"],void 0);e["default"]=s.exports},"0a6d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"cu-custom",style:[{height:t.CustomBar+"px"}]},[a("v-uni-view",{staticClass:"cu-bar fixed",class:[""!=t.bgImage?"none-bg text-white bg-img":"",t.bgColor],style:t.style},[t.isBack?a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.BackPage.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-back"}),t._t("backText")],2):t._e(),a("v-uni-view",{staticClass:"content",style:[{top:t.StatusBar+"px"}]},[t._t("content")],2),t._t("right")],2)],1)],1)},n=[]},2914:function(t,e,a){"use strict";var i=a("7bac"),n=a.n(i);n.a},5003:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={cuCustom:a("0a45").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticStyle:{height:"100%"}},[a("cu-custom",{attrs:{bgColor:"bg-black",isBack:!0}},[a("template",{attrs:{slot:"content"},slot:"content"},[t._v("预览")])],2),t.hidden?t._e():a("v-uni-view",{staticStyle:{opacity:"0"}},[a("v-uni-canvas",{style:"width:"+t.canvasWidth+"px;height:"+t.canvasHeight+"px",attrs:{canvasId:"draw"}})],1),a("v-uni-view",{staticClass:"tips"},[t._v("小提示：点击图片可预览，点完长按可保存")]),a("v-uni-view",{staticClass:"image-box",style:"height:"+t.showImage.height+"px;"},[a("v-uni-image",{staticClass:"image",style:"width:"+t.showImage.width+"px;height:"+t.showImage.height+"px",attrs:{src:t.showImage.url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage.apply(void 0,arguments)}}})],1)],1)},o=[]},"5e24":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("aa9c");var i={data:function(){return{imageInfo:[],direction:"vertical",canvasWidth:0,canvasHeight:0,systemHeight:0,systemWidth:0,showImage:{url:"",width:0,height:0},hidden:!1}},onLoad:function(t){var e=this;e.setData({imageInfo:JSON.parse(t.imageInfo),direction:t.direction}),uni.getSystemInfo({success:function(t){e.setData({systemWidth:t.windowWidth,systemHeight:t.windowHeight})}}),console.log(e.imageInfo),uni.showLoading({title:"正在合并",mask:!0}),e.connectImage()},onShareAppMessage:function(){return{}},methods:{connectImage:function(){var t=this,e=uni.createCanvasContext("draw",t),a=0,i=0,n=t.imageInfo;if("vertical"==t.direction){for(a=t.systemWidth,s=0,void(o=0);s<n.length;s++){i+=o=n[s].height*a/n[s].width}for(t.setData({canvasWidth:a,canvasHeight:i}),s=0,o=0,void(c=0);s<n.length;s++){var o,c;o=n[s].height*a/n[s].width,s>0&&(c+=n[s-1].height*a/n[s-1].width),e.drawImage(n[s].url,0,c,a,o)}}else{for(i=t.systemHeight,s=0,void(r=0);s<n.length;s++){a+=r=n[s].width*i/n[s].height}for(t.setData({canvasWidth:a,canvasHeight:i}),s=0,r=0,void(u=0);s<n.length;s++){var s,r,u;r=n[s].width*i/n[s].height,s>0&&(u+=n[s-1].width*i/n[s-1].height),e.drawImage(n[s].url,u,0,r,i)}}e.draw(),setTimeout((function(e){uni.canvasToTempFilePath({canvasId:"draw",success:function(e){console.log(e.tempFilePath),t.setData({"showImage.url":e.tempFilePath,hidden:!0}),t.setShowImage(e.tempFilePath),uni.hideLoading()}},t)}),500)},previewImage:function(t){var e=[];e.push(this.showImage.url),uni.previewImage({current:e[0],urls:e})},setShowImage:function(t){var e=this,a=e.direction,i=0,n=0;uni.getSystemInfo({success:function(o){uni.getImageInfo({src:t,success:function(t){if("vertical"==a)c=.93,i=o.windowWidth*c,n=o.windowWidth/t.width*t.height*c;else{var c=.5;n=o.windowHeight*c,i=o.windowHeight/t.height*t.width*c}e.setData({"showImage.width":i,"showImage.height":n})}})}})}}};e.default=i},7363:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,"uni-page-body[data-v-40c1ce83]{padding:0;margin:0;font-size:%?30?%;color:#757575;background-color:#eee;width:100%;height:100%；}body.?%PAGE?%[data-v-40c1ce83]{background-color:#eee}.tips[data-v-40c1ce83]{box-sizing:border-box;background-color:#000;color:#fff;min-height:%?100?%;line-height:%?100?%;font-size:%?30?%;padding-left:%?30?%}.image-box[data-v-40c1ce83],\r\n.tips[data-v-40c1ce83]{width:%?700?%;margin:%?25?%;border-radius:%?4?%;box-shadow:%?0?% %?0?% %?20?% rgba(0,0,0,.2)}.image-box[data-v-40c1ce83]{overflow-x:scroll;overflow-y:hidden}.image[data-v-40c1ce83]{display:block;margin:0 auto}",""]),t.exports=e},"7bac":function(t,e,a){var i=a("7363");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("6fdf9850",i,!0,{sourceMap:!1,shadowMode:!1})},"86fa":function(t,e,a){"use strict";a.r(e);var i=a("5003"),n=a("99c3");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("2914");var c=a("828b"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"40c1ce83",null,!1,i["a"],void 0);e["default"]=s.exports},"99c3":function(t,e,a){"use strict";a.r(e);var i=a("5e24"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},b905:function(t,e,a){"use strict";a.r(e);var i=a("f7a1"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},f7a1:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c223");getApp();var i={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar}},name:"cu-custom",computed:{style:function(){var t=this.StatusBar,e=this.CustomBar,a=this.bgImage,i="height:".concat(e,"px;padding-top:").concat(t,"px;");return this.bgImage&&(i="".concat(i,"background-image:url(").concat(a,");")),i}},props:{bgColor:{type:String,default:""},isBack:{type:[Boolean,String],default:!1},bgImage:{type:String,default:""}},methods:{BackPage:function(){if(getCurrentPages().length<2)return uni.redirectTo({url:"/pages/index/index"});uni.navigateBack({delta:1})}}};e.default=i}}]);